<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		#box1{
			height: 100px;
			width: 100px;
			background-color: red;
			position: absolute;;
		}
	</style>

	<script type="text/javascript">
		window.onload = function(){
			//定义一个变量表示移动速度
			let speed = 10;

			//创建一个变量表示方向
			//通过修改dir改变方向
			let dir = 0;

			//开启定时器，控制div移动
			setInterval(function(){
				//switch(event.keyCode){
				switch(dir){
					case 37:
						//alert("left"); left值减小
						box1.style.left = box1.offsetLeft - speed + "px";
						break;
					case 39:
						//alert("right");
						box1.style.left = box1.offsetLeft + speed + "px";
						break;
					case 38:
						//alert("up");
						box1.style.top = box1.offsetTop - speed + "px";
						break;
					case 40:
						//alert("down");
						box1.style.top = box1.offsetTop + speed + "px";
						break;

				}
			}, 30);


			document.onkeydown = function(event){
				event = event || window.event;
				//定义一个变量表示移动速度
				//let speed = 10;

				//按了Ctrl之后加速
				if(event.ctrlKey){
					speed = 1000;
				}else{
					speed = 10;
				}

				//使dir等于按键的值
				dir = event.keyCode;
			};

			//当按键松开时，div不再移动
			document,onkeyup = function(){
				dir = 0;
			};
		};
	</script>
</head>
<body>
	<div id="box1"></div>
</body>
</html>